if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-form-builder-field-types/aui-form-builder-field-types.js']) {
   __coverage__['build/aui-form-builder-field-types/aui-form-builder-field-types.js'] = {"path":"build/aui-form-builder-field-types/aui-form-builder-field-types.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":40},"end":{"line":1,"column":59}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":26},"end":{"line":22,"column":37}}},"3":{"name":"(anonymous_3)","line":33,"loc":{"start":{"line":33,"column":17},"end":{"line":33,"column":28}}},"4":{"name":"(anonymous_4)","line":44,"loc":{"start":{"line":44,"column":16},"end":{"line":44,"column":27}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":45},"end":{"line":45,"column":61}}},"6":{"name":"(anonymous_6)","line":61,"loc":{"start":{"line":61,"column":28},"end":{"line":61,"column":45}}},"7":{"name":"(anonymous_7)","line":74,"loc":{"start":{"line":74,"column":21},"end":{"line":74,"column":37}}},"8":{"name":"(anonymous_8)","line":90,"loc":{"start":{"line":90,"column":21},"end":{"line":90,"column":32}}},"9":{"name":"(anonymous_9)","line":105,"loc":{"start":{"line":105,"column":24},"end":{"line":105,"column":45}}},"10":{"name":"(anonymous_10)","line":110,"loc":{"start":{"line":110,"column":33},"end":{"line":110,"column":48}}},"11":{"name":"(anonymous_11)","line":122,"loc":{"start":{"line":122,"column":21},"end":{"line":122,"column":32}}},"12":{"name":"(anonymous_12)","line":140,"loc":{"start":{"line":140,"column":26},"end":{"line":140,"column":50}}},"13":{"name":"(anonymous_13)","line":145,"loc":{"start":{"line":145,"column":36},"end":{"line":145,"column":51}}},"14":{"name":"(anonymous_14)","line":158,"loc":{"start":{"line":158,"column":28},"end":{"line":158,"column":39}}},"15":{"name":"(anonymous_15)","line":168,"loc":{"start":{"line":168,"column":32},"end":{"line":168,"column":43}}},"16":{"name":"(anonymous_16)","line":183,"loc":{"start":{"line":183,"column":35},"end":{"line":183,"column":46}}},"17":{"name":"(anonymous_17)","line":203,"loc":{"start":{"line":203,"column":28},"end":{"line":203,"column":39}}},"18":{"name":"(anonymous_18)","line":234,"loc":{"start":{"line":234,"column":19},"end":{"line":234,"column":46}}},"19":{"name":"(anonymous_19)","line":260,"loc":{"start":{"line":260,"column":22},"end":{"line":260,"column":42}}},"20":{"name":"(anonymous_20)","line":289,"loc":{"start":{"line":289,"column":23},"end":{"line":289,"column":39}}},"21":{"name":"(anonymous_21)","line":307,"loc":{"start":{"line":307,"column":34},"end":{"line":307,"column":45}}},"22":{"name":"(anonymous_22)","line":319,"loc":{"start":{"line":319,"column":26},"end":{"line":319,"column":42}}},"23":{"name":"(anonymous_23)","line":329,"loc":{"start":{"line":329,"column":20},"end":{"line":329,"column":34}}},"24":{"name":"(anonymous_24)","line":346,"loc":{"start":{"line":346,"column":22},"end":{"line":346,"column":43}}},"25":{"name":"(anonymous_25)","line":354,"loc":{"start":{"line":354,"column":33},"end":{"line":354,"column":48}}},"26":{"name":"(anonymous_26)","line":366,"loc":{"start":{"line":366,"column":26},"end":{"line":366,"column":46}}},"27":{"name":"(anonymous_27)","line":389,"loc":{"start":{"line":389,"column":33},"end":{"line":389,"column":49}}},"28":{"name":"(anonymous_28)","line":404,"loc":{"start":{"line":404,"column":28},"end":{"line":404,"column":39}}},"29":{"name":"(anonymous_29)","line":407,"loc":{"start":{"line":407,"column":49},"end":{"line":407,"column":70}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":440,"column":105}},"2":{"start":{"line":10,"column":0},"end":{"line":11,"column":87}},"3":{"start":{"line":22,"column":0},"end":{"line":22,"column":40}},"4":{"start":{"line":24,"column":0},"end":{"line":413,"column":2}},"5":{"start":{"line":34,"column":8},"end":{"line":34,"column":68}},"6":{"start":{"line":45,"column":8},"end":{"line":47,"column":11}},"7":{"start":{"line":46,"column":12},"end":{"line":46,"column":28}},"8":{"start":{"line":49,"column":8},"end":{"line":51,"column":9}},"9":{"start":{"line":50,"column":12},"end":{"line":50,"column":44}},"10":{"start":{"line":62,"column":8},"end":{"line":62,"column":52}},"11":{"start":{"line":63,"column":8},"end":{"line":65,"column":9}},"12":{"start":{"line":64,"column":12},"end":{"line":64,"column":44}},"13":{"start":{"line":75,"column":8},"end":{"line":76,"column":14}},"14":{"start":{"line":78,"column":8},"end":{"line":82,"column":9}},"15":{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},"16":{"start":{"line":80,"column":16},"end":{"line":80,"column":37}},"17":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"18":{"start":{"line":92,"column":12},"end":{"line":92,"column":41}},"19":{"start":{"line":106,"column":8},"end":{"line":106,"column":48}},"20":{"start":{"line":108,"column":8},"end":{"line":108,"column":76}},"21":{"start":{"line":110,"column":8},"end":{"line":112,"column":11}},"22":{"start":{"line":111,"column":12},"end":{"line":111,"column":34}},"23":{"start":{"line":114,"column":8},"end":{"line":114,"column":43}},"24":{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},"25":{"start":{"line":124,"column":12},"end":{"line":124,"column":42}},"26":{"start":{"line":127,"column":8},"end":{"line":127,"column":37}},"27":{"start":{"line":141,"column":8},"end":{"line":141,"column":28}},"28":{"start":{"line":143,"column":8},"end":{"line":143,"column":88}},"29":{"start":{"line":145,"column":8},"end":{"line":147,"column":11}},"30":{"start":{"line":146,"column":12},"end":{"line":146,"column":48}},"31":{"start":{"line":149,"column":8},"end":{"line":149,"column":55}},"32":{"start":{"line":159,"column":8},"end":{"line":159,"column":54}},"33":{"start":{"line":169,"column":8},"end":{"line":172,"column":10}},"34":{"start":{"line":184,"column":8},"end":{"line":194,"column":10}},"35":{"start":{"line":204,"column":8},"end":{"line":206,"column":10}},"36":{"start":{"line":208,"column":8},"end":{"line":219,"column":20}},"37":{"start":{"line":221,"column":8},"end":{"line":221,"column":54}},"38":{"start":{"line":222,"column":8},"end":{"line":222,"column":42}},"39":{"start":{"line":235,"column":8},"end":{"line":236,"column":53}},"40":{"start":{"line":238,"column":8},"end":{"line":240,"column":9}},"41":{"start":{"line":239,"column":12},"end":{"line":239,"column":24}},"42":{"start":{"line":242,"column":8},"end":{"line":246,"column":9}},"43":{"start":{"line":243,"column":12},"end":{"line":245,"column":13}},"44":{"start":{"line":244,"column":16},"end":{"line":244,"column":28}},"45":{"start":{"line":248,"column":8},"end":{"line":248,"column":21}},"46":{"start":{"line":261,"column":8},"end":{"line":265,"column":50}},"47":{"start":{"line":267,"column":8},"end":{"line":277,"column":9}},"48":{"start":{"line":268,"column":12},"end":{"line":268,"column":41}},"49":{"start":{"line":269,"column":12},"end":{"line":276,"column":13}},"50":{"start":{"line":270,"column":16},"end":{"line":270,"column":47}},"51":{"start":{"line":271,"column":16},"end":{"line":275,"column":17}},"52":{"start":{"line":272,"column":20},"end":{"line":274,"column":21}},"53":{"start":{"line":273,"column":24},"end":{"line":273,"column":36}},"54":{"start":{"line":279,"column":8},"end":{"line":279,"column":21}},"55":{"start":{"line":290,"column":8},"end":{"line":291,"column":65}},"56":{"start":{"line":293,"column":8},"end":{"line":298,"column":9}},"57":{"start":{"line":294,"column":12},"end":{"line":294,"column":35}},"58":{"start":{"line":296,"column":12},"end":{"line":296,"column":86}},"59":{"start":{"line":297,"column":12},"end":{"line":297,"column":71}},"60":{"start":{"line":308,"column":8},"end":{"line":308,"column":31}},"61":{"start":{"line":309,"column":8},"end":{"line":309,"column":39}},"62":{"start":{"line":320,"column":8},"end":{"line":320,"column":38}},"63":{"start":{"line":330,"column":8},"end":{"line":334,"column":9}},"64":{"start":{"line":331,"column":12},"end":{"line":333,"column":13}},"65":{"start":{"line":332,"column":16},"end":{"line":332,"column":60}},"66":{"start":{"line":336,"column":8},"end":{"line":336,"column":19}},"67":{"start":{"line":347,"column":8},"end":{"line":347,"column":28}},"68":{"start":{"line":349,"column":8},"end":{"line":351,"column":9}},"69":{"start":{"line":350,"column":12},"end":{"line":350,"column":19}},"70":{"start":{"line":353,"column":8},"end":{"line":353,"column":55}},"71":{"start":{"line":354,"column":8},"end":{"line":356,"column":11}},"72":{"start":{"line":355,"column":12},"end":{"line":355,"column":63}},"73":{"start":{"line":367,"column":8},"end":{"line":368,"column":14}},"74":{"start":{"line":370,"column":8},"end":{"line":379,"column":9}},"75":{"start":{"line":371,"column":12},"end":{"line":375,"column":13}},"76":{"start":{"line":372,"column":16},"end":{"line":374,"column":17}},"77":{"start":{"line":373,"column":20},"end":{"line":373,"column":56}},"78":{"start":{"line":378,"column":12},"end":{"line":378,"column":76}},"79":{"start":{"line":390,"column":8},"end":{"line":390,"column":48}},"80":{"start":{"line":392,"column":8},"end":{"line":395,"column":9}},"81":{"start":{"line":393,"column":12},"end":{"line":393,"column":40}},"82":{"start":{"line":394,"column":12},"end":{"line":394,"column":40}},"83":{"start":{"line":405,"column":8},"end":{"line":405,"column":28}},"84":{"start":{"line":407,"column":8},"end":{"line":411,"column":11}},"85":{"start":{"line":408,"column":12},"end":{"line":410,"column":13}},"86":{"start":{"line":409,"column":16},"end":{"line":409,"column":80}},"87":{"start":{"line":423,"column":0},"end":{"line":437,"column":2}}},"branchMap":{"1":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":8}},{"start":{"line":49,"column":8},"end":{"line":49,"column":8}}]},"2":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":8}},{"start":{"line":63,"column":8},"end":{"line":63,"column":8}}]},"3":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":12},"end":{"line":79,"column":12}},{"start":{"line":79,"column":12},"end":{"line":79,"column":12}}]},"4":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"5":{"line":108,"type":"cond-expr","locations":[{"start":{"line":108,"column":50},"end":{"line":108,"column":60}},{"start":{"line":108,"column":63},"end":{"line":108,"column":75}}]},"6":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":123,"column":8}},{"start":{"line":123,"column":8},"end":{"line":123,"column":8}}]},"7":{"line":143,"type":"cond-expr","locations":[{"start":{"line":143,"column":56},"end":{"line":143,"column":69}},{"start":{"line":143,"column":72},"end":{"line":143,"column":87}}]},"8":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":8},"end":{"line":238,"column":8}},{"start":{"line":238,"column":8},"end":{"line":238,"column":8}}]},"9":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":12},"end":{"line":243,"column":12}},{"start":{"line":243,"column":12},"end":{"line":243,"column":12}}]},"10":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":16},"end":{"line":271,"column":16}},{"start":{"line":271,"column":16},"end":{"line":271,"column":16}}]},"11":{"line":271,"type":"binary-expr","locations":[{"start":{"line":271,"column":20},"end":{"line":271,"column":25}},{"start":{"line":271,"column":30},"end":{"line":271,"column":58}}]},"12":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":20},"end":{"line":272,"column":20}},{"start":{"line":272,"column":20},"end":{"line":272,"column":20}}]},"13":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":8},"end":{"line":293,"column":8}},{"start":{"line":293,"column":8},"end":{"line":293,"column":8}}]},"14":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":12},"end":{"line":331,"column":12}},{"start":{"line":331,"column":12},"end":{"line":331,"column":12}}]},"15":{"line":349,"type":"if","locations":[{"start":{"line":349,"column":8},"end":{"line":349,"column":8}},{"start":{"line":349,"column":8},"end":{"line":349,"column":8}}]},"16":{"line":370,"type":"if","locations":[{"start":{"line":370,"column":8},"end":{"line":370,"column":8}},{"start":{"line":370,"column":8},"end":{"line":370,"column":8}}]},"17":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":16},"end":{"line":372,"column":16}},{"start":{"line":372,"column":16},"end":{"line":372,"column":16}}]},"18":{"line":392,"type":"if","locations":[{"start":{"line":392,"column":8},"end":{"line":392,"column":8}},{"start":{"line":392,"column":8},"end":{"line":392,"column":8}}]},"19":{"line":408,"type":"if","locations":[{"start":{"line":408,"column":12},"end":{"line":408,"column":12}},{"start":{"line":408,"column":12},"end":{"line":408,"column":12}}]}},"code":["(function () { YUI.add('aui-form-builder-field-types', function (A, NAME) {","","/**"," * The Form Builder Field Types Component"," *"," * @module aui-form-builder"," * @submodule aui-form-builder-field-types"," */","","var CSS_FIELD_TYPE = A.getClassName('field', 'type'),","    CSS_FIELD_TYPES_LIST = A.getClassName('form', 'builder', 'field', 'types', 'list');","","/**"," * `A.FormBuilder` extension, which is responsible for all the logic related"," * to field types."," *"," * @class A.FormBuilderFieldTypes"," * @param {Object} config Object literal specifying layout builder configuration"," *     properties."," * @constructor"," */","A.FormBuilderFieldTypes = function() {};","","A.FormBuilderFieldTypes.prototype = {","","    /**","     * Construction logic executed during the `A.FormBuilderFieldTypes`","     * instantiation. Lifecycle.","     *","     * @method initializer","     * @protected","     */","    initializer: function() {","        this.after('fieldTypesChange', this._afterFieldTypesChange);","    },","","    /**","     * Destructor lifecycle implementation for the `A.FormBuilderFieldTypes` class.","     * Lifecycle.","     *","     * @method destructor","     * @protected","     */","    destructor: function() {","        A.Array.each(this.get('fieldTypes'), function(field) {","            field.destroy();","        });","","        if (this._fieldTypesModal) {","            this._fieldTypesModal.destroy();","        }","    },","","    /**","     * Disables unique fields for the field class that the given field is an","     * instance of.","     *","     * @method disableUniqueFieldType","     * @param {A.FormField} field","     */","    disableUniqueFieldType: function (field) {","        var fieldType = this.findTypeOfField(field);","        if (fieldType.get('unique')) {","            fieldType.set('disabled', true);","        }","    },","","    /**","     * Finds the type of the given field.","     *","     * @method findTypeOfField","     * @param {A.FormBuilderFieldBase} field","     */","    findTypeOfField: function(field) {","        var fieldTypes = this.get('fieldTypes'),","            i;","","        for (i = 0; i < fieldTypes.length; i++) {","            if (field.constructor === fieldTypes[i].get('fieldClass')) {","                return fieldTypes[i];","            }","        }","    },","","    /**","     * Hides the fields modal.","     *","     * @method hideFieldsPanel","     */","    hideFieldsPanel: function() {","        if (this._fieldTypesModal) {","            this._fieldTypesModal.hide();","        }","    },","","    /**","     * Adds a the given field types to this form builder.","     *","     * @method registerFieldTypes","     * @param {Array | Object | A.FormBuilderFieldType} typesToAdd This can be","     *   either an array of items or a single item. Each item should be either","     *   an instance of `A.FormBuilderFieldType`, or the configuration object","     *   to be used when instantiating one.","     */","    registerFieldTypes: function(typesToAdd) {","        var fieldTypes = this.get('fieldTypes');","","        typesToAdd = A.Lang.isArray(typesToAdd) ? typesToAdd : [typesToAdd];","","        A.Array.each(typesToAdd, function(type) {","            fieldTypes.push(type);","        });","","        this.set('fieldTypes', fieldTypes);","    },","","    /**","     * Shows the fields modal.","     *","     * @method showFieldsPanel","     */","    showFieldsPanel: function() {","        if (!this._fieldTypesPanel) {","            this._createFieldTypesPanel();","        }","","        this._fieldTypesModal.show();","    },","","    /**","     * Removes the given field types from this form builder.","     *","     * @method unregisterFieldTypes","     * @param {Array | String | A.FormBuilderFieldType} typesToRemove This can be","     *   either an array of items, or a single one. For each item, if it's a","     *   string, the form builder will remove all registered field types with","     *   a field class that matches it. For items that are instances of","     *   `A.FormBuilderFieldType`, only the same instances will be removed.","     */","    unregisterFieldTypes: function(typesToRemove) {","        var instance = this;","","        typesToRemove = A.Lang.isArray(typesToRemove) ? typesToRemove : [typesToRemove];","","        A.Array.each(typesToRemove, function(type) {","            instance._unregisterFieldType(type);","        });","","        this.set('fieldTypes', this.get('fieldTypes'));","    },","","    /**","     * Fired after the `fieldTypes` attribute is set.","     *","     * @method _afterFieldTypesChange","     * @protected","     */","    _afterFieldTypesChange: function() {","        this._uiSetFieldTypes(this.get('fieldTypes'));","    },","","    /**","     * Binds all necessary events for the field types modal to work.","     *","     * @method _bindFieldTypesModalEvents","     * @protected","     */","    _bindFieldTypesModalEvents: function() {","        this._eventHandles.push(","            this._fieldTypesPanel.delegate('click', this._onClickFieldType, '.' + CSS_FIELD_TYPE, this),","            this._fieldTypesPanel.delegate('key', A.bind(this._onKeyPressFieldType, this), 'enter', '.' + CSS_FIELD_TYPE)","        );","    },","","    /**","     * Builds and returns the configuration object for the field types modal","     * toolbar.","     *","     * @method _buildFieldTypesToolbarConfig","     * @return {Object}","     * @protected","     */","    _buildFieldTypesToolbarConfig: function() {","        return {","            header: [","                {","                    cssClass: 'close',","                    label: '\\u00D7',","                    on: {","                        click: A.bind(this._onFieldTypesModalCloseClick, this)","                    }","                }","            ]","        };","    },","","    /**","     * Creates the field types panel.","     *","     * @method _createFieldTypesPanel","     * @protected","     */","    _createFieldTypesPanel: function() {","        this._fieldTypesPanel = A.Node.create(","            '<div class=\"clearfix ' + CSS_FIELD_TYPES_LIST + '\" role=\"main\" />'","        );","","        this._fieldTypesModal = new A.Modal({","            bodyContent: this._fieldTypesPanel,","            centered: true,","            cssClass: 'form-builder-modal',","            draggable: false,","            headerContent: 'Add Field',","            modal: true,","            resizable: false,","            toolbars: this._buildFieldTypesToolbarConfig(),","            visible: false,","            zIndex: 2","        }).render();","","        this._uiSetFieldTypes(this.get('fieldTypes'));","        this._bindFieldTypesModalEvents();","    },","","    /**","     * Checks if the given field is of the given field type.","     *","     * @method _hasFieldType","     * @param  {A.FormBuilderFieldType} fieldType","     * @param  {A.FormField} field","     * @return {Boolean}","     * @protected","     */","    _hasFieldType: function(fieldType, field) {","        var i,","            nestedFields = field.get('nestedFields');","","        if (field.constructor === fieldType.get('fieldClass')) {","            return true;","        }","","        for (i = 0; i < nestedFields.length; i++) {","            if (this._hasFieldType(fieldType, nestedFields[i])) {","                return true;","            }","        }","","        return false;","    },","","    /**","     * Check all Field created if there is a someone of the same type","     * of the parameter.","     *","     * @method _hasFieldTypeAll","     * @param {Object} fieldType","     * @return {Boolean}","     * @protected","     */","    _hasFieldTypeAll: function(fieldType) {","        var col,","            cols,","            field,","            row,","            rows = this.get('layout').get('rows');","","        for (row = 0; row < rows.length; row++) {","            cols = rows[row].get('cols');","            for (col = 0; col < cols.length; col++) {","                field = cols[col].get('value');","                if (field && (field instanceof A.FormField)) {","                    if (this._hasFieldType(fieldType, field)) {","                        return true;","                    }","                }","            }","        }","","        return false;","    },","","    /**","     * Fired when a field type is clicked.","     *","     * @method _onClickFieldType","     * @param {EventFacade} event","     * @protected","     */","    _onClickFieldType: function(event) {","        var field,","            fieldType = event.currentTarget.getData('fieldType');","","        if (!fieldType.get('disabled')) {","            this.hideFieldsPanel();","","            field = new (fieldType.get('fieldClass'))(fieldType.get('defaultConfig'));","            this.showFieldSettingsPanel(field, fieldType.get('label'));","        }","    },","","    /**","     * Fired when the close button for the field types modal is clicked.","     *","     * @method _onFieldTypesModalCloseClick","     * @protected","     */","    _onFieldTypesModalCloseClick: function() {","        this.hideFieldsPanel();","        this._newFieldContainer = null;","    },","","    /**","     * Fired when a field type is keypressed.","     *","     * @method _onKeyPressFieldType","     * @param {EventFacade} event","     * @protected","     */","    _onKeyPressFieldType: function(event) {","        this._onClickFieldType(event);","    },","","    /**","     * Sets the `fieldTypes` attribute.","     *","     * @method _setFieldTypes","     * @param {Object | A.FormBuilderFieldType} val","     */","    _setFieldTypes: function(val) {","        for (var i = 0; i < val.length; i++) {","            if (!A.instanceOf(val[i], A.FormBuilderFieldType)) {","                val[i] = new A.FormBuilderFieldType(val[i]);","            }","        }","","        return val;","    },","","    /**","     * Updates the ui according to the value of the `fieldTypes` attribute.","     *","     * @method _uiSetFieldTypes","     * @param {Array} fieldTypes","     * @protected","     */","    _uiSetFieldTypes: function(fieldTypes) {","        var instance = this;","","        if (!this._fieldTypesPanel) {","            return;","        }","","        this._fieldTypesPanel.get('children').remove();","        A.Array.each(fieldTypes, function(type) {","            instance._fieldTypesPanel.append(type.get('node'));","        });","    },","","    /**","     * Removes a single given field type from this form builder.","     *","     * @method _unregisterFieldType","     * @param {String | A.FormBuilderFieldType} fieldType","     * @protected","     */","    _unregisterFieldType: function(fieldType) {","        var fieldTypes = this.get('fieldTypes'),","            i;","","        if (A.Lang.isFunction(fieldType)) {","            for (i = fieldTypes.length - 1; i >= 0; i--) {","                if (fieldTypes[i].get('fieldClass') === fieldType) {","                    this._unregisterFieldTypeByIndex(i);","                }","            }","        }","        else {","            this._unregisterFieldTypeByIndex(fieldTypes.indexOf(fieldType));","        }","    },","","    /**","     * Unregisters the field type at the given index.","     *","     * @method _unregisterFieldTypeByIndex","     * @param {Number} index","     * @protected","     */","    _unregisterFieldTypeByIndex: function(index) {","        var fieldTypes = this.get('fieldTypes');","","        if (index !== -1) {","            fieldTypes[index].destroy();","            fieldTypes.splice(index, 1);","        }","    },","","    /**","     * Enable or disable unique FieldTypes based on created Fields.","     *","     * @method _updateUniqueFieldType","     * @protected","     */","    _updateUniqueFieldType: function() {","        var instance = this;","","        A.Array.each(instance.get('fieldTypes'), function (fieldType) {","            if (fieldType.get('unique')) {","                fieldType.set('disabled', instance._hasFieldTypeAll(fieldType));","            }","        });","    }","};","","/**"," * Static property used to define the default attribute"," * configuration for the `A.FormBuilderFieldTypes`."," *"," * @property ATTRS"," * @type Object"," * @static"," */","A.FormBuilderFieldTypes.ATTRS = {","    /**","     * The collection of field types that can be selected as fields for","     * this form builder.","     *","     * @attribute fieldTypes","     * @default []","     * @type Array","     */","    fieldTypes: {","        setter: '_setFieldTypes',","        validator: A.Lang.isArray,","        value: []","    }","};","","","}, '3.0.1', {\"requires\": [\"aui-classnamemanager\", \"aui-modal\", \"base\", \"node-base\"], \"skinnable\": true});","","}());"]};
}
var __cov_OgQsWqD7o9WWqHZsF0NGZA = __coverage__['build/aui-form-builder-field-types/aui-form-builder-field-types.js'];
__cov_OgQsWqD7o9WWqHZsF0NGZA.s['1']++;YUI.add('aui-form-builder-field-types',function(A,NAME){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['1']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['2']++;var CSS_FIELD_TYPE=A.getClassName('field','type'),CSS_FIELD_TYPES_LIST=A.getClassName('form','builder','field','types','list');__cov_OgQsWqD7o9WWqHZsF0NGZA.s['3']++;A.FormBuilderFieldTypes=function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['2']++;};__cov_OgQsWqD7o9WWqHZsF0NGZA.s['4']++;A.FormBuilderFieldTypes.prototype={initializer:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['3']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['5']++;this.after('fieldTypesChange',this._afterFieldTypesChange);},destructor:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['4']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['6']++;A.Array.each(this.get('fieldTypes'),function(field){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['5']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['7']++;field.destroy();});__cov_OgQsWqD7o9WWqHZsF0NGZA.s['8']++;if(this._fieldTypesModal){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['1'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['9']++;this._fieldTypesModal.destroy();}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['1'][1]++;}},disableUniqueFieldType:function(field){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['6']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['10']++;var fieldType=this.findTypeOfField(field);__cov_OgQsWqD7o9WWqHZsF0NGZA.s['11']++;if(fieldType.get('unique')){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['2'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['12']++;fieldType.set('disabled',true);}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['2'][1]++;}},findTypeOfField:function(field){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['7']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['13']++;var fieldTypes=this.get('fieldTypes'),i;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['14']++;for(i=0;i<fieldTypes.length;i++){__cov_OgQsWqD7o9WWqHZsF0NGZA.s['15']++;if(field.constructor===fieldTypes[i].get('fieldClass')){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['3'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['16']++;return fieldTypes[i];}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['3'][1]++;}}},hideFieldsPanel:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['8']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['17']++;if(this._fieldTypesModal){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['4'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['18']++;this._fieldTypesModal.hide();}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['4'][1]++;}},registerFieldTypes:function(typesToAdd){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['9']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['19']++;var fieldTypes=this.get('fieldTypes');__cov_OgQsWqD7o9WWqHZsF0NGZA.s['20']++;typesToAdd=A.Lang.isArray(typesToAdd)?(__cov_OgQsWqD7o9WWqHZsF0NGZA.b['5'][0]++,typesToAdd):(__cov_OgQsWqD7o9WWqHZsF0NGZA.b['5'][1]++,[typesToAdd]);__cov_OgQsWqD7o9WWqHZsF0NGZA.s['21']++;A.Array.each(typesToAdd,function(type){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['10']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['22']++;fieldTypes.push(type);});__cov_OgQsWqD7o9WWqHZsF0NGZA.s['23']++;this.set('fieldTypes',fieldTypes);},showFieldsPanel:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['11']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['24']++;if(!this._fieldTypesPanel){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['6'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['25']++;this._createFieldTypesPanel();}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['6'][1]++;}__cov_OgQsWqD7o9WWqHZsF0NGZA.s['26']++;this._fieldTypesModal.show();},unregisterFieldTypes:function(typesToRemove){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['12']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['27']++;var instance=this;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['28']++;typesToRemove=A.Lang.isArray(typesToRemove)?(__cov_OgQsWqD7o9WWqHZsF0NGZA.b['7'][0]++,typesToRemove):(__cov_OgQsWqD7o9WWqHZsF0NGZA.b['7'][1]++,[typesToRemove]);__cov_OgQsWqD7o9WWqHZsF0NGZA.s['29']++;A.Array.each(typesToRemove,function(type){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['13']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['30']++;instance._unregisterFieldType(type);});__cov_OgQsWqD7o9WWqHZsF0NGZA.s['31']++;this.set('fieldTypes',this.get('fieldTypes'));},_afterFieldTypesChange:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['14']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['32']++;this._uiSetFieldTypes(this.get('fieldTypes'));},_bindFieldTypesModalEvents:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['15']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['33']++;this._eventHandles.push(this._fieldTypesPanel.delegate('click',this._onClickFieldType,'.'+CSS_FIELD_TYPE,this),this._fieldTypesPanel.delegate('key',A.bind(this._onKeyPressFieldType,this),'enter','.'+CSS_FIELD_TYPE));},_buildFieldTypesToolbarConfig:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['16']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['34']++;return{header:[{cssClass:'close',label:'\xd7',on:{click:A.bind(this._onFieldTypesModalCloseClick,this)}}]};},_createFieldTypesPanel:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['17']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['35']++;this._fieldTypesPanel=A.Node.create('<div class="clearfix '+CSS_FIELD_TYPES_LIST+'" role="main" />');__cov_OgQsWqD7o9WWqHZsF0NGZA.s['36']++;this._fieldTypesModal=new A.Modal({bodyContent:this._fieldTypesPanel,centered:true,cssClass:'form-builder-modal',draggable:false,headerContent:'Add Field',modal:true,resizable:false,toolbars:this._buildFieldTypesToolbarConfig(),visible:false,zIndex:2}).render();__cov_OgQsWqD7o9WWqHZsF0NGZA.s['37']++;this._uiSetFieldTypes(this.get('fieldTypes'));__cov_OgQsWqD7o9WWqHZsF0NGZA.s['38']++;this._bindFieldTypesModalEvents();},_hasFieldType:function(fieldType,field){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['18']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['39']++;var i,nestedFields=field.get('nestedFields');__cov_OgQsWqD7o9WWqHZsF0NGZA.s['40']++;if(field.constructor===fieldType.get('fieldClass')){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['8'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['41']++;return true;}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['8'][1]++;}__cov_OgQsWqD7o9WWqHZsF0NGZA.s['42']++;for(i=0;i<nestedFields.length;i++){__cov_OgQsWqD7o9WWqHZsF0NGZA.s['43']++;if(this._hasFieldType(fieldType,nestedFields[i])){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['9'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['44']++;return true;}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['9'][1]++;}}__cov_OgQsWqD7o9WWqHZsF0NGZA.s['45']++;return false;},_hasFieldTypeAll:function(fieldType){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['19']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['46']++;var col,cols,field,row,rows=this.get('layout').get('rows');__cov_OgQsWqD7o9WWqHZsF0NGZA.s['47']++;for(row=0;row<rows.length;row++){__cov_OgQsWqD7o9WWqHZsF0NGZA.s['48']++;cols=rows[row].get('cols');__cov_OgQsWqD7o9WWqHZsF0NGZA.s['49']++;for(col=0;col<cols.length;col++){__cov_OgQsWqD7o9WWqHZsF0NGZA.s['50']++;field=cols[col].get('value');__cov_OgQsWqD7o9WWqHZsF0NGZA.s['51']++;if((__cov_OgQsWqD7o9WWqHZsF0NGZA.b['11'][0]++,field)&&(__cov_OgQsWqD7o9WWqHZsF0NGZA.b['11'][1]++,field instanceof A.FormField)){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['10'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['52']++;if(this._hasFieldType(fieldType,field)){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['12'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['53']++;return true;}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['12'][1]++;}}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['10'][1]++;}}}__cov_OgQsWqD7o9WWqHZsF0NGZA.s['54']++;return false;},_onClickFieldType:function(event){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['20']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['55']++;var field,fieldType=event.currentTarget.getData('fieldType');__cov_OgQsWqD7o9WWqHZsF0NGZA.s['56']++;if(!fieldType.get('disabled')){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['13'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['57']++;this.hideFieldsPanel();__cov_OgQsWqD7o9WWqHZsF0NGZA.s['58']++;field=new(fieldType.get('fieldClass'))(fieldType.get('defaultConfig'));__cov_OgQsWqD7o9WWqHZsF0NGZA.s['59']++;this.showFieldSettingsPanel(field,fieldType.get('label'));}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['13'][1]++;}},_onFieldTypesModalCloseClick:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['21']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['60']++;this.hideFieldsPanel();__cov_OgQsWqD7o9WWqHZsF0NGZA.s['61']++;this._newFieldContainer=null;},_onKeyPressFieldType:function(event){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['22']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['62']++;this._onClickFieldType(event);},_setFieldTypes:function(val){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['23']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['63']++;for(var i=0;i<val.length;i++){__cov_OgQsWqD7o9WWqHZsF0NGZA.s['64']++;if(!A.instanceOf(val[i],A.FormBuilderFieldType)){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['14'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['65']++;val[i]=new A.FormBuilderFieldType(val[i]);}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['14'][1]++;}}__cov_OgQsWqD7o9WWqHZsF0NGZA.s['66']++;return val;},_uiSetFieldTypes:function(fieldTypes){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['24']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['67']++;var instance=this;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['68']++;if(!this._fieldTypesPanel){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['15'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['69']++;return;}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['15'][1]++;}__cov_OgQsWqD7o9WWqHZsF0NGZA.s['70']++;this._fieldTypesPanel.get('children').remove();__cov_OgQsWqD7o9WWqHZsF0NGZA.s['71']++;A.Array.each(fieldTypes,function(type){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['25']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['72']++;instance._fieldTypesPanel.append(type.get('node'));});},_unregisterFieldType:function(fieldType){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['26']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['73']++;var fieldTypes=this.get('fieldTypes'),i;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['74']++;if(A.Lang.isFunction(fieldType)){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['16'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['75']++;for(i=fieldTypes.length-1;i>=0;i--){__cov_OgQsWqD7o9WWqHZsF0NGZA.s['76']++;if(fieldTypes[i].get('fieldClass')===fieldType){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['17'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['77']++;this._unregisterFieldTypeByIndex(i);}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['17'][1]++;}}}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['16'][1]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['78']++;this._unregisterFieldTypeByIndex(fieldTypes.indexOf(fieldType));}},_unregisterFieldTypeByIndex:function(index){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['27']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['79']++;var fieldTypes=this.get('fieldTypes');__cov_OgQsWqD7o9WWqHZsF0NGZA.s['80']++;if(index!==-1){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['18'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['81']++;fieldTypes[index].destroy();__cov_OgQsWqD7o9WWqHZsF0NGZA.s['82']++;fieldTypes.splice(index,1);}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['18'][1]++;}},_updateUniqueFieldType:function(){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['28']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['83']++;var instance=this;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['84']++;A.Array.each(instance.get('fieldTypes'),function(fieldType){__cov_OgQsWqD7o9WWqHZsF0NGZA.f['29']++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['85']++;if(fieldType.get('unique')){__cov_OgQsWqD7o9WWqHZsF0NGZA.b['19'][0]++;__cov_OgQsWqD7o9WWqHZsF0NGZA.s['86']++;fieldType.set('disabled',instance._hasFieldTypeAll(fieldType));}else{__cov_OgQsWqD7o9WWqHZsF0NGZA.b['19'][1]++;}});}};__cov_OgQsWqD7o9WWqHZsF0NGZA.s['87']++;A.FormBuilderFieldTypes.ATTRS={fieldTypes:{setter:'_setFieldTypes',validator:A.Lang.isArray,value:[]}};},'3.0.1',{'requires':['aui-classnamemanager','aui-modal','base','node-base'],'skinnable':true});
