YUI.add("aui-layout-builder-add-col",function(e,t){var n=e.getClassName("layout","builder","add","col"),r=e.getClassName("layout","builder","add","col","left"),i=e.getClassName("layout","builder","add","col","right"),s=e.getClassName("layout","builder","add","col","text"),o=".layout-row",u='<div class="'+n+'" tabindex="5">'+'<span class="glyphicon glyphicon-th-large"></span>'+'<span class="'+s+'">Add Column</span>'+"</div>";e.LayoutBuilderAddCol=function(){},e.LayoutBuilderAddCol.prototype={initializer:function(){this._eventHandles.push(this.after("enableAddColsChange",this._afterEnableAddColsChange),this.after("layout:isColumnModeChange",e.bind(this._afterAddColIsColumnModeChange,this))),this._uiSetEnableAddCols(this.get("enableAddCols"))},destructor:function(){this._unbindAddColEvents()},_addCol:function(t){var n=e.one(t),i=t.ancestor(o).getData("layout-row");n.hasClass(r)?i.addCol(0):i.addCol(i.get("cols").length)},_afterAddColIsColumnModeChange:function(){this._uiSetEnableAddCols(this.get("enableAddCols"))},_afterAddColLayoutColsChange:function(e){var t=e.target.get("node").one(o);this._appendAddColButtonToSingleRow(t)},_afterAddColRowsChange:function(){this._removeAddColButton(),this._appendAddColButtonToRows()},_afterEnableAddColsChange:function(){this._uiSetEnableAddCols(this.get("enableAddCols"))},_appendAddColButtonToRows:function(){var e=this,t=this._layoutContainer.all(o);t.each(function(t){e._appendAddColButtonToSingleRow(t)})},_appendAddColButtonToSingleRow:function(t){var n,s,o,a=t.getData("layout-row");o=a.get("cols").length,o<a.get("maximumCols")&&(n=e.Node.create(u).addClass(r),s=e.Node.create(u).addClass(i),t.append(n),t.append(s))},_bindAddColEvents:function(){var t=this.get("container");this._addColsEventHandles=[t.delegate("click",e.bind(this._onMouseClickAddColEvent,this),"."+n),t.delegate("key",e.bind(this._onKeyPressAddColEvent,this),"press:13","."+n),this.after("layout-row:colsChange",this._afterAddColLayoutColsChange),this.after("layout:rowsChange",this._afterAddColRowsChange)]},_onKeyPressAddColEvent:function(e){this._addCol(e.currentTarget)},_onMouseClickAddColEvent:function(e){this._addCol(e.currentTarget)},_uiSetEnableAddCols:function(e){e&&this.get("layout").get("isColumnMode")?(this._appendAddColButtonToRows(),this._bindAddColEvents()):(this._removeAddColButton(),this._unbindAddColEvents())},_removeAddColButton:function(){this._layoutContainer.all("."+n).remove()},_unbindAddColEvents:function(){this._addColsEventHandles&&(new e.EventHandle(this._addColsEventHandles)).detach()}},e.LayoutBuilderAddCol.ATTRS={enableAddCols:{validator:e.Lang.isBoolean,value:!0}}},"3.0.1",{requires:["event-key","node-base"],skinnable:!0});
