YUI.add("aui-form-builder-settings-modal",function(e,t){var n=e.getClassName("form","builder","field","settings"),r=e.getClassName("form","builder","field","settings","cancel"),i=e.getClassName("form","builder","field","settings","label"),s=e.getClassName("form","builder","field","settings","save"),o=e.getClassName("form","builder","field","settings","small","screen","header"),u=e.getClassName("form","builder","field","settings","small","screen","header","back"),a=e.getClassName("form","builder","field","settings","small","screen","header","check"),f=e.getClassName("form","builder","field","settings","small","screen","header","close"),l=e.getClassName("form","builder","field","settings","small","screen","header","left"),c=e.getClassName("modal","footer"),h=e.getClassName("modal","header");e.FormBuilderSettingsModal=e.Base.create("form-builder-settings-modal",e.Base,[],{TPL_SMALL_SCREEN_HEADER:'<div class="visible-xs '+o+'">'+'<button class="close '+l+" "+f+'" type="button">'+'<span class="glyphicon glyphicon-remove"></span></button>'+'<button class="hide close '+l+" "+u+'" type="button">'+'<span class="glyphicon glyphicon-chevron-left"></span></button>'+"<p></p>"+'<button class="close '+a+'" type="button">'+'<span class="glyphicon glyphicon-ok"></span></button>'+"</div>",destructor:function(){this._modal&&this._modal.destroy()},hide:function(){this._modal&&this._modal.hide(),this._eventToggleAdvancedContent&&this._eventToggleAdvancedContent.detach()},show:function(t,n){var r,s;this._modal||this._create(),r=this._modal.getStdModNode(e.WidgetStdMod.BODY),r.empty(),t.renderSettingsPanel(r),this._smallScreenHeader.one("p").set("text",n),this._modal.get("boundingBox").one("."+i).set("text",n),this._modal.show(),this._modal.align(),s=r.one('input[type="text"]'),s&&s.focus(),this._eventToggleAdvancedContent=t.on("contentToggle",e.bind(this._updateSmallScreenButtons,this)),this._fieldBeingEdited=t},_afterModalVisibleChange:function(e){e.newVal||this.fire("hide")},_collapseContent:function(){this._fieldBeingEdited.collapseModalContent()},_create:function(){this._modal=(new e.Modal({centered:!0,cssClass:n,draggable:!1,modal:!0,headerContent:'<div class="'+i+'"></div>',resizable:!1,zIndex:2})).render(),this._modal.addToolbar([{cssClass:r,label:"Cancel",on:{click:e.bind(this.hide,this)},render:!0},{cssClass:s,label:"Save",on:{click:e.bind(this._save,this)},render:!0}],e.WidgetStdMod.FOOTER),this._smallScreenHeader=e.Node.create(this.TPL_SMALL_SCREEN_HEADER),this._modal.get("boundingBox").one("."+h).addClass("hidden-xs"),this._modal.get("boundingBox").one("."+c).addClass("hidden-xs"),this._modal.get("boundingBox").append(this._smallScreenHeader),this._modal.after("visibleChange",e.bind(this._afterModalVisibleChange,this)),this._smallScreenHeader.one("."+a).on("click",e.bind(this._save,this)),this._smallScreenHeader.one("."+f).on("click",e.bind(this.hide,this)),this._smallScreenHeader.one("."+u).after("click",this._collapseContent,this)},_save:function(){this._fieldBeingEdited.validateSettings()&&(this._fieldBeingEdited.saveSettings(),this.fire("save",{field:this._fieldBeingEdited}),this.hide())},_updateSmallScreenButtons:function(){this._smallScreenHeader.one("."+u).toggleClass("hide"),this._smallScreenHeader.one("."+f).toggleClass("hidden")}})},"3.0.1",{requires:["aui-classnamemanager","aui-modal","base","node-base"],skinnable:!0});
